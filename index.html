<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OTP Input</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <div class="card">
        <div class="card-img-container">
            <img src="verification-img.jpg" alt="">
        </div>
        <div class="heading">
            <h1>
                Test OTP Design
            </h1>
            <span>
                This is just a web development practice site for how to create an OTP input.
            </span>
        </div>
        <div data-otp-ready="false" id="otp-section">
            <div class="otp-container">
                <input type="text" maxlength="6" class="otp-input" oninput="updateOtpDisplay(event)" onfocus="focusOtpDisplay(event)" onblur="blurOtpDisplay(event)"/>
                <span></span>
                <span></span>
                <span></span>
                <span></span>
                <span></span>
                <span></span>
            </div>
            <div class="btn-box">
                <button class="getotp" onclick="document.querySelector('div#otp-section').setAttribute('data-otp-ready', true)">
                    Get OTP
                </button>
                <button class="resend">
                    Resend <span>02:45</span>
                </button>
                <button class="submit">
                    Submit
                </button>
            </div>
        </div>
    </div>
    

    <script>
        function focusOtpDisplay(ev) {
            let elements = ev.target.parentNode.querySelectorAll("span");
            let otp = ev.target.value;

            if(otp.length < 6){
                elements[otp.length].innerText = "-"
                elements[otp.length].classList.add("fade-in-animation")
            }
        }
        function blurOtpDisplay(ev) {
            let elements = ev.target.parentNode.querySelectorAll("span");
            let otp = ev.target.value;

            if(otp.length < 6){
                elements[otp.length].innerText = ""
                elements[otp.length].classList.remove("fade-in-animation")
            }
        }
        function updateOtpDisplay(ev) {
            let elements = ev.target.parentNode.querySelectorAll("span");
            let otp = ev.target.value;

            for (let elem of elements) {
                elem.innerText = ""
                elem.style.border = "1px solid rgba(0, 0, 0, 0.3)"
                elem.classList.remove("fade-in-animation")
            }

            for(let index = 0; index < otp.length; index++){
                elements[index].innerText = otp[index]
                elements[index].style.border = "1px solid rgb(31, 214, 89)"
            }

            if(otp.length < 6){
                elements[otp.length].innerText = "-"
                elements[otp.length].classList.add("fade-in-animation")
            }
        }
    </script>
</body>

</html>